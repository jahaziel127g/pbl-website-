<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CleanFlow Delhi — AI River Cleanup</title>

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="CleanFlow Delhi — affordable AI system to detect, classify, and collect river trash." />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    .glass { background: rgba(255,255,255,0.08); backdrop-filter: blur(6px); }
    .bot-bubble { background: #eef6ff; color: #003366; }
    .user-bubble { background: #003366; color: white; }
  </style>
</head>
<body class="bg-blue-50 text-slate-900 antialiased">

<!-- NAV -->
<header class="bg-white/80 backdrop-blur sticky top-0 z-40 border-b">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10">
        <img src="images/logo.png" alt="CleanFlow Logo" class="w-full h-full object-contain">
      </div>
      <div>
        <h1 class="text-lg font-semibold">CleanFlow Delhi</h1>
        <p class="text-xs text-slate-500">AI-powered river cleanup</p>
      </div>
    </div>
    <nav class="hidden md:flex gap-4 items-center text-sm">
      <a href="#about" class="px-3 py-2 hover:bg-blue-50 rounded">About</a>
      <a href="#prototype" class="px-3 py-2 hover:bg-blue-50 rounded">Prototype</a>
      <a href="#impact" class="px-3 py-2 hover:bg-blue-50 rounded">Impact</a>
      <a href="#monitor" class="px-3 py-2 hover:bg-blue-50 rounded">Monitor</a>
      <button onclick="openChat()" class="bg-blue-600 text-white px-3 py-2 rounded shadow">Chat with FlowMate</button>
    </nav>
    <div class="md:hidden flex items-center gap-2">
      <button onclick="openChat()" class="bg-blue-600 text-white px-3 py-2 rounded">Chat</button>
    </div>
  </div>
</header>

<!-- HERO -->
<main class="max-w-6xl mx-auto px-6 py-12">
  <section class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div class="space-y-6">
      <h2 class="text-3xl md:text-4xl font-extrabold text-slate-800">CleanFlow Delhi — AI meets rivers</h2>
      <p class="text-slate-600">Affordable AI-powered systems that detect, classify, and collect trash from Delhi’s rivers. Solar-powered, recyclable materials, and made for communities.</p>

      <div class="grid grid-cols-2 gap-3">
        <div class="p-4 bg-white rounded-lg shadow-sm border flex flex-col">
          <span class="text-xs text-slate-400">System Status</span>
          <div class="mt-2 font-semibold text-blue-700">Active</div>
          <div class="text-sm text-slate-500 mt-1">Collection: <strong id="today-collection">12kg</strong> today</div>
        </div>
        <div class="p-4 bg-white rounded-lg shadow-sm border flex flex-col">
          <span class="text-xs text-slate-400">Prototype Unit Cost</span>
          <div class="mt-2 font-semibold text-blue-700">₹25,00,000</div>
          <div class="text-sm text-slate-500 mt-1">Solar-powered — ~12W usage</div>
        </div>
      </div>

      <div class="flex gap-3 mt-3">
        <a href="#prototype" class="px-4 py-2 bg-blue-600 text-white rounded shadow">See Prototype</a>
        <button onclick="openChat()" class="px-4 py-2 border border-blue-600 rounded text-blue-600">Talk to FlowMate</button>
      </div>
    </div>
    <div class="rounded-lg overflow-hidden border bg-white shadow-sm">
      <img src="images/hero-placeholder.jpg" alt="Add your hero image in images/hero-placeholder.jpg" class="w-full h-72 object-cover">
    </div>
  </section>

  <!-- KEY STATS -->
  <section id="about" class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="p-5 bg-white rounded-lg shadow-sm border">
      <h3 class="text-sm text-slate-500">River Pollution</h3>
      <div class="mt-2 font-bold text-xl text-slate-800">3,800+ tons daily</div>
      <p class="text-sm text-slate-500 mt-2">Massive trash inflow — threatens ecosystems and communities.</p>
    </div>
    <div class="p-5 bg-white rounded-lg shadow-sm border">
      <h3 class="text-sm text-slate-500">Untreated Sewage</h3>
      <div class="mt-2 font-bold text-xl text-slate-800">80%</div>
      <p class="text-sm text-slate-500 mt-2">Large share of contamination from untreated sewage.</p>
    </div>
    <div class="p-5 bg-white rounded-lg shadow-sm border">
      <h3 class="text-sm text-slate-500">People Affected</h3>
      <div class="mt-2 font-bold text-xl text-slate-800">22M+</div>
      <p class="text-sm text-slate-500 mt-2">Millions rely on river water — health and livelihoods at risk.</p>
    </div>
  </section>

  <!-- PIE CHART + MONITOR -->
  <section id="monitor" class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="p-6 bg-white rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-slate-800">Water Threat vs Garbage Polluted</h3>
      <p class="text-sm text-slate-500 mt-1">Pie chart uses provided values: water threat = <strong>27.5</strong>, garbage polluted = <strong>72.5</strong>.</p>
      <div class="mt-4">
        <canvas id="pieChart" width="400" height="260"></canvas>
      </div>
    </div>
    <div class="p-6 bg-white rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-slate-800">CleanFlow Monitor</h3>
      <ul class="mt-3 space-y-2 text-sm text-slate-600">
        <li>AI Detection Breakdown: Plastic 68%, Paper 12%, Other 20%</li>
        <li>Prototype Detection Accuracy: <strong>85%</strong></li>
        <li>Prototype Collection Rate: <strong>72%</strong></li>
        <li>Power Usage: <strong>12W</strong> (20W solar panel, 12 hours backup)</li>
        <li>Potential removal per device: <strong>500+ tons / year</strong> (estimate)</li>
      </ul>
      <div class="mt-4">
        <button onclick="simulateCollection(1.2)" class="px-3 py-2 bg-sky-600 text-white rounded">Simulate +1.2kg</button>
        <button onclick="openChat()" class="ml-2 px-3 py-2 border rounded border-sky-600 text-sky-600">Ask FlowMate</button>
      </div>
    </div>
  </section>

  <!-- PROTOTYPE -->
  <section id="prototype" class="mt-10">
    <div class="p-6 bg-white rounded-lg shadow-sm border">
      <h3 class="text-2xl font-semibold">Working Prototype</h3>
      <p class="text-slate-600 mt-2">Small-scale demo built with Raspberry Pi + TensorFlow Lite and a mechanical collection system.</p>
      <div class="grid md:grid-cols-3 gap-4 mt-6">
        <div class="p-4 border rounded">
          <h4 class="font-semibold">AI Vision</h4>
          <p class="text-sm text-slate-600 mt-1">Raspberry Pi + camera, TensorFlow Lite. Real-time detection (85% accuracy in lab tests).</p>
        </div>
        <div class="p-4 border rounded">
          <h4 class="font-semibold">Collection Mechanism</h4>
          <p class="text-sm text-slate-600 mt-1">Servo-driven conveyor and grabber, handles items up to 500g.</p>
        </div>
        <div class="p-4 border rounded">
          <h4 class="font-semibold">Power</h4>
          <p class="text-sm text-slate-600 mt-1">20W solar panel + battery, ~12W average system draw.</p>
        </div>
      </div>
      <div class="mt-6">
        <a class="inline-block px-4 py-2 bg-blue-600 text-white rounded" href="#impact">See Impact</a>
      </div>
    </div>
  </section>

  <!-- IMPACT -->
  <section id="impact" class="mt-10 grid md:grid-cols-2 gap-6">
    <div class="p-6 bg-white rounded-lg shadow-sm border">
      <h3 class="text-xl font-semibold">Environmental Impact</h3>
      <ul class="mt-3 text-sm text-slate-600 space-y-2">
        <li>Reduce plastic pollution from river systems</li>
        <li>Improve water quality and support biodiversity</li>
        <li>Prevent trash entering the ocean</li>
      </ul>
    </div>
    <div class="p-6 bg-white rounded-lg shadow-sm border">
      <h3 class="text-xl font-semibold">Social Impact</h3>
      <ul class="mt-3 text-sm text-slate-600 space-y-2">
        <li>Healthier riverside communities</li>
        <li>Green jobs in manufacturing and maintenance</li>
        <li>Awareness and data for policy & prevention</li>
      </ul>
    </div>
  </section>

  <footer class="mt-12 py-8 text-center text-sm text-slate-500">
    <div>© <strong>CleanFlow Delhi</strong> — Prototype & demo content. Replace images with your own.</div>
  </footer>
</main>

<!-- CHAT WIDGET -->
<div id="chatWidget" class="fixed right-6 bottom-6 w-80 md:w-96 rounded-lg shadow-lg overflow-hidden hidden">
  <div class="p-3 bg-blue-600 text-white flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-9 h-9 rounded bg-white/20 flex items-center justify-center font-bold">FM</div>
      <div>
        <div class="text-sm font-semibold">FlowMate</div>
        <div class="text-xs opacity-90">AI assistant — prototype data</div>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <button onclick="minimizeChat()" title="Minimize" class="text-white/80 hover:text-white">&minus;</button>
      <button onclick="closeChat()" title="Close" class="text-white/80 hover:text-white">&times;</button>
    </div>
  </div>

  <div id="chatBody" class="bg-white p-3 h-64 overflow-auto space-y-3">
    <div class="bot-bubble p-3 rounded-lg text-sm max-w-[85%] bot-bubble">
      Hi! I'm FlowMate, your AI buddy for CleanFlow Delhi. Ask me about prototype specs, river pollution stats, or daily collection updates.
    </div>
  </div>

  <div class="p-3 bg-white border-t flex items-center gap-2">
    <input id="chatInput" class="flex-1 px-3 py-2 border rounded-md text-sm" placeholder="Ask FlowMate..." />
    <button onclick="sendChat()" class="px-3 py-2 bg-blue-600 text-white rounded">Send</button>
  </div>
</div>

<script>
const CLEANFLOW_DATA = {
  siteName: "CleanFlow Delhi",
  pollutionStats: { untreatedSewagePct: 80, tonsDaily: "3,800+", plasticSharePct: 60, peopleAffected: "22M+" },
  aiDetection: { plastic: 68, paper: 12, other: 20 },
  monitor: { status: "Active", collectionTodayKg: 12 },
  prototype: { detectionAccuracyPct: 85, collectionRatePct: 72, powerUsageW: 12, unitCostINR: 2500000, capacityAnnualTonsEstimate: 500 },
  pieData: { waterThreat: 27.5, garbagePolluted: 72.5 }
};

document.getElementById('today-collection').innerText = CLEANFLOW_DATA.monitor.collectionTodayKg + 'kg';

// Pie chart
const ctx = document.getElementById('pieChart').getContext('2d');
new Chart(ctx, { type: 'pie', data: {
  labels: ['Water Threat', 'Garbage Polluted'],
  datasets: [{ data: [CLEANFLOW_DATA.pieData.waterThreat, CLEANFLOW_DATA.pieData.garbagePolluted], backgroundColor: ['#60a5fa', '#1e40af'], hoverOffset: 6 }]
}, options: { plugins:{legend:{position:'bottom'}}}});

// Chatbot KB
const kb = [
  { keywords: ['detection','accuracy','detect'], answer: `Prototype detection accuracy is ${CLEANFLOW_DATA.prototype.detectionAccuracyPct}%.` },
  { keywords: ['collection','rate'], answer: `Collection rate: ${CLEANFLOW_DATA.prototype.collectionRatePct}%. Capacity ~${CLEANFLOW_DATA.prototype.capacityAnnualTonsEstimate}+ tons/year.` },
  { keywords: ['power','solar','watt'], answer: `Power usage: ${CLEANFLOW_DATA.prototype.powerUsageW}W. Solar + battery backup included.` },
  { keywords: ['cost','price','unit cost'], answer: `Unit cost (prototype): ₹${CLEANFLOW_DATA.prototype.unitCostINR.toLocaleString()}.` },
  { keywords: ['plastic','paper','other'], answer: `AI detection breakdown: Plastic ${CLEANFLOW_DATA.aiDetection.plastic}%, Paper ${CLEANFLOW_DATA.aiDetection.paper}%, Other ${CLEANFLOW_DATA.aiDetection.other}%.` },
  { keywords: ['pollution','waste','daily'], answer: `Delhi rivers: ~${CLEANFLOW_DATA.pollutionStats.tonsDaily} tons/day, untreated sewage ${CLEANFLOW_DATA.pollutionStats.untreatedSewagePct}%.` },
  { keywords: ['people','affected'], answer: `${CLEANFLOW_DATA.pollutionStats.peopleAffected} people affected.` },
  { keywords: ['impact','helps'], answer: `Impact: reduce plastic pollution, improve health, green jobs. Each device may remove ~${CLEANFLOW_DATA.prototype.capacityAnnualTonsEstimate}+ tons/year.` },
  { keywords: ['chart','pie'], answer: `Pie chart: Water Threat ${CLEANFLOW_DATA.pieData.waterThreat}, Garbage Polluted ${CLEANFLOW_DATA.pieData.garbagePolluted}.` }
];

function openChat(){ document.getElementById('chatWidget').classList.remove('hidden'); document.getElementById('chatInput').focus(); }
function closeChat(){ document.getElementById('chatWidget').classList.add('hidden'); }
function minimizeChat(){ const w=document.getElementById('chatWidget'); w.style.height = w.style.height && w.style.height!==''?'':'40px'; }

function appendMessage(text, from='bot'){ 
  const container=document.createElement('div'); 
  container.className=from==='bot'?'bot-bubble p-3 rounded-lg text-sm max-w-[85%]':'user-bubble p-3 rounded-lg text-sm ml-auto max-w-[85%]'; 
  container.textContent=text; 
  document.getElementById('chatBody').appendChild(container); 
  document.getElementById('chatBody').scrollTop=document.getElementById('chatBody').scrollHeight; 
}

function sendChat(){ 
  const input=document.getElementById('chatInput'); 
  const txt=input.value.trim(); 
  if(!txt) return; 
  appendMessage(txt,'user'); 
  input.value=''; 
  setTimeout(()=>{ appendMessage(generateReply(txt),'bot'); },400); 
}

function generateReply(userText){ 
  const u=userText.toLowerCase(); 
  if(u.includes('hello')||u.includes('hi')) return "Hey! I'm FlowMate, AI buddy for CleanFlow Delhi. Ask me about prototype specs, pollution stats, or daily collection updates."; 
  if(u.includes('status')) return `System Status: ${CLEANFLOW_DATA.monitor.status}. Today's collection: ${CLEANFLOW_DATA.monitor.collectionTodayKg}kg.`; 
  for(const entry of kb) if(entry.keywords.some(k=>u.includes(k))) return entry.answer; 
  return `Quick summary: Detection ${CLEANFLOW_DATA.prototype.detectionAccuracyPct}% | Collection rate ${CLEANFLOW_DATA.prototype.collectionRatePct}% | Power ${CLEANFLOW_DATA.prototype.powerUsageW}W | Unit cost ₹${CLEANFLOW_DATA.prototype.unitCostINR.toLocaleString()}. Ask me for specific stats.`; 
}

document.getElementById('chatInput').addEventListener('keydown', function(e){ 
  if(e.key==='Enter'){ e.preventDefault(); sendChat(); }
});

function simulateCollection(kg){ 
  CLEANFLOW_DATA.monitor.collectionTodayKg += kg;
  document.getElementById('today-collection').innerText = CLEANFLOW_DATA.monitor.collectionTodayKg.toFixed(1) + 'kg';
  appendMessage(`Simulated collection: +${kg}kg. Total today: ${CLEANFLOW_DATA.monitor.collectionTodayKg.toFixed(1)}kg`, 'bot');
}
</script>

</body>
</html>
